set samples 1001  # high quality
set title "Round-Trip-Time über die Zeit
set border 31 linewidth .3 # thin border
set xlabel "Unixtime"
set timefmt "%s"
set xdata time
set ylabel "RTT in ms"
unset key
set terminal unknown;
plot "Parsed.out" using 3:2 with points title 'Plot über Unixzeit'
set terminal jpeg enhanced size 20000 20
set output "parsedTime.jpg"

min_y = GPVAL_DATA_Y_MIN
max_y = GPVAL_DATA_Y_MAX

min_x = GPVAL_DATA_X_MIN
max_x = GPVAL_DATA_X_MAX
set xrange [min_x:max_x]

f(x) = mean_y
fit f(x) "Parsed.out" u 3:2 via mean_y

stddev_y = sqrt(FIT_WSSR / (FIT_NDF + 1 ))

# Plotting the minimum and maximum ranges with a shaded background
set label 1 gprintf("Minimum = %g", min_y) at min_x + 86400, 80 left
set label 2 gprintf("Maximum = %g", max_y) at min_x + 86400, 70 left
set label 3 gprintf("Mean = %g", mean_y) at min_x + 86400, 60 left
set label 4 gprintf("Standard deviation = %g", stddev_y) at min_x + 86400, 50 left
plot mean_y-stddev_y with filledcurves y1=mean_y lt 1 lc rgb "#bbbbdd", \
mean_y+stddev_y with filledcurves y1=mean_y lt 1 lc rgb "#bbbbdd", \
mean_y w l lt 3, \
"Parsed.out" using 3:2 with p pt 7 lt 1 ps 1
